<!-- BeginDsi "dsi/head.html" -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Embedthis Ejscript 2.0.0 Documentation</title>
    <meta name="keywords" content="Ejscript, JavaScript, ECMAScript, Server-Side JavaScript, Dynamic languages, 
        Embedded, AJAX, language"/>
	<meta name="description" content="Ejscript -- Embedded Server-Side JavaScript Language."/>
	<meta name="robots" content="index,follow" />
    <link href="http://www.google.com/cse/style/look/default.css" type="text/css" rel="stylesheet" />
	<link href="../../../doc.css" rel="stylesheet" type="text/css" />
	<link href="../../../print.css" rel="stylesheet" type="text/css" media="print"/>
    <!--[if IE]>
    <link href="../../../iehacks.css" rel="stylesheet" type="text/css" />
    </![endif]-->
</head>

<body>
    <div class="top">
        <a class="logo"  href="http://ejscript.org/">&nbsp;</a>
        <div class="topRight">
            <div class="search">
                <div id="cse-search-form">Loading</div>
                <div class='version'>Embedthis Ejscript 2.0.0</div>
            </div>
        </div>
        <div class="crumbs">
            <a href="../../../product/index.html">Home</a>
<!-- EndDsi -->
             &gt; <a href="../language/index.html">Language Guide</a> &gt; <b>Events</b>
        </div>
    </div>
    <div class="content">
        <div class="contentRight">
            <h1>Quick Nav</h1>
<!-- BeginDsi "dsi/ejsLanguageSeeAlso.html" -->
		        <h1>See Also</h1>
		        <ul>
		          <li><a href="../../../guide/ejs/overview.html">Overview</a></li>
		          <li><a href="../../../guide/ejs/features.html">Language Features</a></li>
		          <li><a href="../../../guide/ejs/language/modes.html">Language Modes</a></li>
		          <li><a href="../../../guide/ejs/language/syntax.html">Language Syntax</a></li>
		          <li><a href="../../../guide/ejs/language/statements.html">Statements</a></li>
		          <li><a href="../../../guide/ejs/language/expressions.html">Expressions</a></li>
		          <li><a href="../../../guide/ejs/language/objects.html">Objects and Arrays</a></li>
		          <li><a href="../../../guide/ejs/language/functions.html">Functions and Methods</a></li>
		          <li><a href="../../../guide/ejs/language/core.html">Core Language Types</a></li>
		          <li><a href="../../../guide/ejs/language/types.html">Types and Declarations</a></li>
		          <li><a href="../../../guide/ejs/language/classes.html">Classes</a></li>
		          <li><a href="../../../guide/ejs/language/modules.html">Modules</a></li>
		          <li><a href="../../../guide/ejs/language/library.html">System Library</a></li>
		          <li><a href="../../../guide/ejs/language/events.html">Events and Timers</a></li>
		          <li><a href="../../../guide/ejs/language/globals.html">Globals</a></li>

		          <li><a href="../../../guide/ejs/users/compiler.html">Using the Compiler</a></li>
		          <li><a href="../../../guide/ejs/users/shell.html">Command Shell</a></li>
		        </ul>
<!-- EndDsi -->
        </div>
        <div class="contentLeft">
            <h1>Eventing</h1>
            <p>Ejscript has an efficient eventing framework to support asynchronous programming. It consists of event
            dispatchers, listening objects, event objects and timers.</p>
            <p>The Ejscript event service allows event queues to be created and for interested parties to listen for
            events of interest. Events objects can then be sent to the event dispatcher and relayed onto subscribing
            listeners. This implements the classic Publish and Subscribe pattern.</p>
            <h2>Event Emitter</h2>
            <p>An event emitter is responsible for managing an event queue and for dispatching events to all
            registered listening objects. Event emitters are created by instantiating the Emitter class.
            Applications can create any number of event dispatchers.</p>
            <pre>
var events = new Emitter
</pre>
            <p>Once created, the Emitter instance can be used by interested parties who wish to "listen" for events.
            They do this by invoking the <b>o</b> method and supplying a callback function that will be invoked
           to receive the event.</p>
<pre>
events.on(function (e: Event) {
    print("Got Event:", e)
}))
</pre>
            <h2>Dispatching Events</h2>
            <p>An event is dispatched to listening parties by calling the <em>fire</em> method of the Emitter object.</p>
            <pre>
events.fire("weather", "Sunny")
</pre>
            <p>When <em>fire</em>is called, the event information is passed to all listening parties who will have their
            registered callback function invoked with the supplied event information.</p>
            <h2>Scheduling Timers</h2>
            <p>Ejscript also supports timer events which can be scheduled to run after a given delay.</p>
<pre>
Timer(10 * 1000, function (args) {
    
}).start()
</pre>
            <p>A timer event will not be run unless the application is waiting in either App.serviceEvents, App.sleep
            or otherwise waiting in the Ejscript main event loop.</p>
        </div>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->
	<div class="bottom">
		<p class="footnote"> 
            <a href="../../../product/copyright.html" >&copy; Embedthis Software LLC, 2003-2012. 
            All rights reserved. Embedthis, Ejscript and Appweb are trademarks of Embedthis Software LLC.</a>
		</p>
	</div>
</body>
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script type="text/javascript"> 
  google.load('search', '1', {language : 'en'});
  google.setOnLoadCallback(function() {
    var customSearchControl = new google.search.CustomSearchControl(
      'partner-pub-9935546676162772:ysvxxv4n9rx');

    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
    var options = new google.search.DrawOptions();
    options.enableSearchboxOnly("http://ejscript.org/search.html");
    customSearchControl.draw('cse-search-form', options);
  }, true);
</script>
</html>
<!-- EndDsi -->