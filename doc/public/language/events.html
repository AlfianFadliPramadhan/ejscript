<!DOCTYPE html>
<html lang="en">
<head>
    <title>Core Language Types</title>
    <!-- Copyright Embedthis Software, LLC, 2003-2014. All Rights Reserved. -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="keywords" content="Ejscript, Javascript, Ecmascript, devices, http server, internet of things" />
    <meta name="description" content="Javacript Language Environment" />
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700'
        rel='stylesheet' type='text/css'>
<!--
    <link href='http://fonts.googleapis.com/css?family=Audiowide' rel='stylesheet' type='text/css'>
-->
    <link href='http://fonts.googleapis.com/css?family=Julius+Sans+One' rel='stylesheet' type='text/css'>
    <link href="../lib/semantic/css/semantic.css" rel="stylesheet" type="text/css" />
    <link href="../css/all.css" rel="stylesheet" type="text/css" />
    <link href="../images/favicon.ico" rel="shortcut icon" />

</head>
<body>
    

    <div class="ui inverted masthead">
         
        <div class="column">
            <div class="ui inverted menu">
                <div class="ui black small launch right attached toggle button">
                    <i class="icon list layout"></i>
                </div>
                <div class="right menu">
                      
                    <a class="item" href="https://embedthis.com/">Embedthis</a>
                    <a class="item" href="https://embedthis.com/appweb/">Appweb Site</a>
                    <a class="item" href="http://goo.gl/dGRDl4">Appweb News</a>
                    <a class="item" href="https://github.com/embedthis/appweb">Repository</a>
                    <a class="item" href="https://embedthis.com/blog/">Blog</a>
                    <a class="item" href="https://twitter.com/mobstream">Twitter</a>

                </div>
            </div>
            
            <div class="ui breadcrumb">
                <a class="section" href="../">Home</a>
                
                <div class="divider">/</div>
                <a class="section" href="index.html">
                    Language Guide
                </a>
                
                <div class="divider">/</div>
                <a class="active section" href="events.html">Core Language Types</a>
            </div>
            
            <div class="ui right floated basic segment version">
                v2.5.0
            </div>
        </div>

    </div>
    <div class="content">

            <h1>Eventing</h1>
            <p>Ejscript has an efficient eventing framework to support asynchronous programming. It consists of event
            dispatchers, listening objects, event objects and timers.</p>
            <p>The Ejscript event service allows event queues to be created and for interested parties to listen for
            events of interest. Events objects can then be sent to the event dispatcher and relayed onto subscribing
            listeners. This implements the classic Publish and Subscribe pattern.</p>
            <h2>Event Emitter</h2>
            <p>An event emitter is responsible for managing an event queue and for dispatching events to all
            registered listening objects. Event emitters are created by instantiating the Emitter class.
            Applications can create any number of event dispatchers.</p>
            <pre class="ui code segment">
var events = new Emitter
</pre>
            <p>Once created, the Emitter instance can be used by interested parties who wish to "listen" for events.
            They do this by invoking the "o" method and supplying a callback function that will be invoked
           to receive the event.</p>
<pre class="ui code segment">
events.on(function (e: Event) {
    print("Got Event:", e)
}))
</pre>
            <h2>Dispatching Events</h2>
            <p>An event is dispatched to listening parties by calling the <em>fire</em> method of the Emitter object.</p>
            <pre class="ui code segment">
events.fire("weather", "Sunny")
</pre>
            <p>When <em>fire</em>is called, the event information is passed to all listening parties who will have their
            registered callback function invoked with the supplied event information.</p>
            <h2>Scheduling Timers</h2>
            <p>Ejscript also supports timer events which can be scheduled to run after a given delay.</p>
<pre class="ui code segment">
Timer(10 * 1000, function (args) {
    
}).start()
</pre>
            <p>A timer event will not be run unless the application is waiting in either App.serviceEvents, App.sleep
            or otherwise waiting in the Ejscript main event loop.</p>

    </div>
    <div class="terms ui basic center aligned segment">
        <p>&copy; Embedthis Software, 2003-2014. All rights reserved.
            Generated on Sep  2, 2014.
        </p>
    </div>

    <script src="../lib/jquery/jquery.js"></script>
    <script src="../lib/semantic/javascript/query.js"></script>
    <script>
        $(function() {
            var url = '@@{top}@@{meta.url}';
            var active = $('.sidebar a[href="' + url +'"]');
            active.addClass('active');
            var sidebar = $(".sidebar");
            var height = sidebar.height();
            var offset = active.offset();
            if (offset && offset.top >= height) {
                var diff = height - active.offset().top;
                sidebar.scrollTop(height);
            }
        });
    </script> 

</body>
</html>
