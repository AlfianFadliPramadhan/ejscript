<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   <title>Class View</title>

   <link rel="stylesheet" type="text/css" href="doc.css" />
</head>

<body>
<div class='body'>

<div class="content">

<a name='top'></a>
<h1 class='className'>View</h1>
<div class='classBlock'>
<table class='classHead' summary='View'>
   <tr><td><strong>Module</strong></td><td>ejs.web</td></tr>
   <tr><td><strong>Definition</strong></td><td>dynamic  class View</td></tr>
   <tr><td><strong>Inheritance</strong></td><td>View <img src='images/inherit.gif' alt='inherit'/> <a href='ejs-Object.html'>Object</a>       </td></tr>
</table>

<p class='classBrief'>Constructor method to initialize a new View.</p>

<p class='classDescription'></p>

</div>


<hr />
<a name='Properties'></a>
<h2 class='classSection'>Properties</h2>
<table class='itemTable' summary='properties'>
   <tr><th>Qualifiers</th><th>Property</th><th>Type</th><th width='95%'>Description</th></tr>
<a name='config'></a>
   <tr><td nowrap align='center'>public </td><td>config</td><td><a href='ejs-Object.html'>Object</a></td><td>&nbsp;</td></tr>
<a name='controller'></a>
   <tr><td nowrap align='center'>public </td><td>controller</td><td>&nbsp;</td><td>Optional controller object. </td></tr>
<a name='formats'></a>
   <tr><td nowrap align='center'>public </td><td>formats</td><td><a href='ejs-Object.html'>Object</a></td><td>&nbsp;</td></tr>
<a name='formatters'></a>
   <tr><td nowrap align='center'>ejs.web </td><td>formatters</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<a name='params'></a>
   <tr><td nowrap align='center'>public </td><td>params</td><td><a href='ejs-Object.html'>Object</a></td><td>Form and query parameters - reference to the Request.params object. </td></tr>
<a name='request'></a>
   <tr><td nowrap align='center'>public </td><td>request</td><td><a href='ejs.web-Request.html'>Request</a></td><td>Current request object. </td></tr>
<a name='session'></a>
   <tr><td nowrap align='left'>ejs.web const get </td><td>session</td><td><a href='ejs.web-Session.html'>Session</a></td><td>Session state object. The session state object can be used to share state between requests.
If a session has not already been created, accessing this property automatically creates a new session 
and sets the <a href='#sessionID'>sessionID</a> property and a cookie containing a session ID sent to the client with the response.
To test if a session has been created, test the sessionID property which will not auto-create a session.
Objects are stored in the session state using JSON serialization</td></tr>
</table>

<p class='inheritedLink'><a href='ejs-Object.html#Properties'><i>Inherited Properties</i></a></p>

<hr />
<a name='Methods'></a>
<h2 class='classSection'>View Methods</h2>
<table class='apiIndex' summary='methods'>
   <tr><th>Qualifiers</th><th width='95%'>Method</th></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#alert'><b>alert</b></a>(text: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Emit a status alert area.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#anchor'><b>anchor</b></a>(text: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Emit an anchor.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#button'><b>button</b></a>(name: <a href='ejs-String.html'>String</a>, label: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a form button.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#buttonLink'><b>buttonLink</b></a>(text: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a link button.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#chart'><b>chart</b></a>(data: <a href='ejs-Array.html'>Array</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a chart.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#checkbox'><b>checkbox</b></a>(name: <a href='ejs-String.html'>String</a>, checkedValue: <a href='ejs-Object.html'>Object</a> = true , options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render an input checkbox.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#currency'><b>currency</b></a>(fmt: <a href='ejs-String.html'>String</a>): <a href='ejs-String.html'>String</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Temporary helper function to format a number as currency.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#date'><b>date</b></a>(fmt: <a href='ejs-String.html'>String</a>): <a href='ejs-String.html'>String</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Temporary helper function to format the date.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#div'><b>div</b></a>(body: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a HTML division.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#endform'><b>endform</b></a>(): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>End an input form.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#flash'><b>flash</b></a>(kinds: <a href='ejs-Object.html'>Object</a> = null , options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Emit a flash message area.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#form'><b>form</b></a>(record: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a form.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#formatValue'><b>formatValue</b></a>(value: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a>): <a href='ejs-String.html'>String</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Get the data value for presentation.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#icon'><b>icon</b></a>(src: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Emit an icon link.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#image'><b>image</b></a>(src: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render an image.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#input'><b>input</b></a>(name: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render an input field as part of a form.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#label'><b>label</b></a>(text: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a text label field.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#link'><b>link</b></a>(target: <a href='ejs-Object.html'>Object</a>): <a href='ejs-Uri.html'>Uri</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Create a URI link.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#list'><b>list</b></a>(name: <a href='ejs-String.html'>String</a>, choices: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Emit a selection list.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#mail'><b>mail</b></a>(name: <a href='ejs-String.html'>String</a>, address: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Emit a mail link.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#number'><b>number</b></a>(fmt: <a href='ejs-String.html'>String</a>): <a href='ejs-String.html'>String</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Temporary helper function to format a number.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#progress'><b>progress</b></a>(percent: <a href='ejs-Number.html'>Number</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Emit a progress bar.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#radio'><b>radio</b></a>(name: <a href='ejs-String.html'>String</a>, choices: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a radio button.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#redirect'><b>redirect</b></a>(target: <a href='ejs-Object.html'>Object</a>, status: <a href='ejs-Number.html'>Number</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Redirect the client to a new URL.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#render'><b>render</b></a>(renderer: <a href='ejs-Function.html'>Function</a>): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Process and emit a view to the client.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#script'><b>script</b></a>(target: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Emit a script link.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#securityToken'><b>securityToken</b></a>(options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Generate a security token for the page and emit a &lt;meta HTML element for the security token.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#setHeader'><b>setHeader</b></a>(key: <a href='ejs-String.html'>String</a>, value: <a href='ejs-String.html'>String</a>, overwrite: <a href='ejs-Boolean.html'>Boolean</a> = true): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Convenience routine to set a Http response header in <a href='#responseHeaders'>responseHeaders</a></td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#setHeaders'><b>setHeaders</b></a>(headers: <a href='ejs-Object.html'>Object</a>, overwrite: <a href='ejs-Boolean.html'>Boolean</a> = true): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Convenience routine to set multiple Http response headers in <a href='#responseHeaders'>responseHeaders</a></td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#setStatus'><b>setStatus</b></a>(status: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Convenience routine to set the (proposed) Http response status code.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#stylesheet'><b>stylesheet</b></a>(target: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Emit a style sheet link.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#table'><b>table</b></a>(data, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a table.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#tabs'><b>tabs</b></a>(data: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a tab control.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#text'><b>text</b></a>(name: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a text input field as part of a form.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#textarea'><b>textarea</b></a>(name: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a text area.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#tree'><b>tree</b></a>(data: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a tree control.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#view'><b>view</b></a>(viewPath, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Render a partial view.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#write'><b>write</b></a>(data: <a href='ejs-Array.html'>Array</a>): <a href='ejs-Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Write data to the stream.Write data to the client.</td></tr>
   <tr class='apiDef'><td class='apiType'>const </td><td><a href='#writeSafe'><b>writeSafe</b></a>(data: <a href='ejs-Array.html'>Array</a>): <a href='ejs-Number.html'>Number</a></tr><tr class='apiBrief'><td>&nbsp;</td><td>Write safely.</td></tr>
</table>

<p class='inheritedLink'><a href='ejs-Object.html#Methods'><i>Inherited Methods</i></a></p>

<hr />
<h2>Method Detail</h2>
<a name='alert'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  alert(text: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Emit a status alert area.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>text: <a href='ejs-String.html'>String</a> </td><td>Initial message text to display. Status messages may be updated by calling the  function.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>refresh</td><td>URI to call to to get status message updates.</td></tr>
<td class='param'>period</td><td>Polling period in milliseconds for the client to check the server for status message  updates. If this is not specifed, the connection to the server will be kept open. This permits the  server to "push" alerts to the console, but will consume a connection at the server for each client.</td></tr>
</table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% status("Status Message", { refresh: "/getData", period: 2000" }) %&gt;
</pre></dd></dl>
</div>
</div>
<hr />
<a name='anchor'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  anchor(text: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Emit an anchor.</p>
<dl><dt>Description</dt><dd>This is lable inside an anchor reference.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>text: <a href='ejs-String.html'>String</a> </td><td>Link text to display.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='button'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  button(name: <a href='ejs-String.html'>String</a>, label: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a form button.</p>
<dl><dt>Description</dt><dd>This creates a button suitable for use inside an input form. When the button is clicked,
the input form will be submitted.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>name: <a href='ejs-String.html'>String</a> </td><td>Name for the input button. This defines the HTML element name and provides the source of the initial value to display. The field should be a property of the form control record. It can be a simple  property of the record or it can have multiple parts, such as: field.field.field. If this call is used  without a form control record, the actual data value should be supplied via the options.value property.</td></tr><tr class='param'><td class='param'>label: <a href='ejs-String.html'>String</a> </td><td>Text label to display in the button and value to send when the form is submitted.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. Examples: button("commit", "OK") button("commit", "Cancel"). [default: expression]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='buttonLink'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  buttonLink(text: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a link button.</p>
<dl><dt>Description</dt><dd>This creates a button suitable for use outside an input form. When the button 
is clicked, the associated URI will be invoked.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>text: <a href='ejs-String.html'>String</a> </td><td>Text to display in the button. The text can contain embedded HTML.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Options specifying the target URI to invoke. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>buttonLink("Cancel" "</pre></dd></dl>
</div>
</div>
<hr />
<a name='chart'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  chart(data: <a href='ejs-Array.html'>Array</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a chart.</p>
<dl><dt>Description</dt><dd>The chart control can display static or dynamic tabular data. The client chart control manages
sorting by column, dynamic data refreshes, pagination and clicking on rows.
MOB -- update.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data: <a href='ejs-Array.html'>Array</a> </td><td>Optional initial data for the control. The data option may be used with the refresh option to  dynamically refresh the data.</td></tr><tr class='param'><td class='param'>data: <a href='ejs-Array.html'>Array</a> </td><td>Initial data to display. This should be a data grid (array of objects).</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Object Optional extra options. See also for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>columns</td><td>Object hash of column entries. Each column entry is in-turn an object hash of options. If unset,  all columns are displayed using defaults.</td></tr>
<td class='param'>kind</td><td>String Type of chart. Select from: piechart, table, linechart, annotatedtimeline, guage, map,  motionchart, areachart, intensitymap, imageareachart, barchart, imagebarchart, bioheatmap, columnchart,  linechart, imagelinechart, imagepiechart, scatterchart (and more).</td></tr>
</table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% chart(grid, { refresh: "/getData", period: 2000" }) %&gt;
&lt;% chart(data, { click: "</pre></dd></dl>
</div>
</div>
<hr />
<a name='checkbox'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  checkbox(name: <a href='ejs-String.html'>String</a>, checkedValue: <a href='ejs-Object.html'>Object</a> = true , options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render an input checkbox.</p>
<dl><dt>Description</dt><dd>This creates a checkbox suitable for use within an input form.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>name: <a href='ejs-String.html'>String</a> </td><td>Name for the input checkbox. This defines the HTML element name and provides the source of the initial value for the checkbox. The field should be a property of the <a href='#form'>form</a> control record. It can be a  simple property of the record or it can have multiple parts, such as: field.field.field. If this call  is used without a form control record, the actual data value should be supplied via the options.value  property.</td></tr><tr class='param'><td class='param'>checkedValue: <a href='ejs-Object.html'>Object</a> </td><td>Value for which the checkbox will be checked. Defaults to true. [default: true ]</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>value</td><td>Object Override value to display if used without a form control record.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='currency'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  currency(fmt: <a href='ejs-String.html'>String</a>): <a href='ejs-String.html'>String</a>
</div>
<div class='apiDetail'>
<p>Temporary helper function to format a number as currency.</p>
<dl><dt>Description</dt><dd>MOB.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>fmt: <a href='ejs-String.html'>String</a> </td><td>Format string.</td></tr></table></dd>
</dl><dl><dt>Returns</dt>
<dd>A formatted string.</dd></dl>
</div>
</div>
<hr />
<a name='date'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  date(fmt: <a href='ejs-String.html'>String</a>): <a href='ejs-String.html'>String</a>
</div>
<div class='apiDetail'>
<p>Temporary helper function to format the date.</p>
<dl><dt>Description</dt><dd>MOB - should move to helpers somewhere.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>fmt: <a href='ejs-String.html'>String</a> </td><td>Format string.</td></tr></table></dd>
</dl><dl><dt>Returns</dt>
<dd>A formatted string.</dd></dl>
</div>
</div>
<hr />
<a name='div'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  div(body: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a HTML division.</p>
<dl><dt>Description</dt><dd>This creates an HTML element with the required options. It is useful to generate
a dynamically refreshing division.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>body: <a href='ejs-String.html'>String</a> </td><td>Division body content.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% div({ refresh: "/getData", period: 2000}) %&gt;
</pre></dd></dl>
</div>
</div>
<hr />
<a name='endform'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  endform(): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>End an input form.</p>
<dl><dt>Description</dt><dd>This closes an input form initiated by calling the <a href='#form'>form</a> method.</dd></dl>
</div>
</div>
<hr />
<a name='flash'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  flash(kinds: <a href='ejs-Object.html'>Object</a> = null , options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Emit a flash message area.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>kinds: <a href='ejs-Object.html'>Object</a> </td><td>Kinds of flash messages to display. May be a single string  ("error", "inform", "message", "warning"), an array of strings or null. If set to null (or omitted),  then all flash messages will be displayed. [default: null ]</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>retain</td><td>Number. Number of seconds to retain the message. If <= 0, the message is retained until another message is displayed. Default is 0.</td></tr>
</table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% flash("status") %&gt;
&lt;% flash() %&gt;
&lt;% flash(["error", "warning"]) %&gt;
</pre></dd></dl>
</div>
</div>
<hr />
<a name='form'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  form(record: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a form.</p>
<dl><dt>Description</dt><dd>The generated form HTML will include by default a security token definition to guard against CSRF threats.
This token will automatically be included when the form is submitted and will be validated by the 
receiving Controller. To disable this functionality, set options.nosecurity to true. This security token
will be generated once for the view and the same token will be used by all forms on the view page. To use
security tokens outside a form, you need to manually call <a href='#securityToken'>securityToken</a> in the &lt;head> section of the page.<br/><br/>MOB -- much more doc here
- Talk about controllers updating the record
- Talk about HTML ids generated from field names.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>record: <a href='ejs-Object.html'>Object</a> </td><td>Record to display and optionally update.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>hideErrors</td><td>Don't display model errors. Models retain error diagnostics from a failed write. Setting thish option will prevent their display.</td></tr>
<td class='param'>method</td><td>HTTP method to use when submitting the form. MOB - action.</td></tr>
<td class='param'>action</td><td>Action to invoke when the form is submitted. Defaults to "create" or "update" depending on  whether the field has been previously saved.</td></tr>
<td class='param'>controller</td><td>Controller to invoke when the form is submitted. Defaults to the current controller.</td></tr>
<td class='param'>nosecurity</td><td>Don't generate a security token for the form.</td></tr>
<td class='param'>securityToken</td><td>String Override CSRF security token to include when the form is submitted. A default  security token will always be generated unless options.nosecurity is defined to be true. MOB - DOC - this should be in the general options.</td></tr>
<td class='param'>uri</td><td>String Use a complete URI rather than an action and controller option to create the target uri.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='formatValue'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  formatValue(value: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a>): <a href='ejs-String.html'>String</a>
</div>
<div class='apiDetail'>
<p>Get the data value for presentation.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>value: <a href='ejs-Object.html'>Object</a> </td><td>Data to present.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Formatting options.</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>formatter</td><td>Optional data formatter. If undefined, defaults to a basic formatter based on the value's data type.</td></tr>
<td class='param'>escape</td><td>If true, the data will be HTML escaped.</td></tr>
</table></dd>
</dl><dl><dt>Returns</dt>
<dd>The formatted data.</dd></dl>
</div>
</div>
<hr />
<a name='icon'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  icon(src: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Emit an icon link.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>src: <a href='ejs-Object.html'>Object</a> </td><td>Source name for the icon.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='image'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  image(src: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render an image.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>src: <a href='ejs-String.html'>String</a> </td><td>Source name for the image.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% image("pic.gif") %&gt;
&lt;% image("pic.gif", { refresh: "</pre></dd></dl>
</div>
</div>
<hr />
<a name='input'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  input(name: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render an input field as part of a form.</p>
<dl><dt>Description</dt><dd>This is a smart input control that will call the appropriate
input control based on the model field data type.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>name: <a href='ejs-String.html'>String</a> </td><td>Name for the input field. This defines the HTML element name and provides the source  of the initial value to display. The field should be a property of the form control record. It can  be a simple property of the record or it can have multiple parts, such as: field.field.field. If  this call is used without a form control record, the actual data value should be supplied via the  options.value property.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% input("phone") %&gt;
</pre></dd></dl>
</div>
</div>
<hr />
<a name='label'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  label(text: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a text label field.</p>
<dl><dt>Description</dt><dd>This renders an output-only text field. Use text() for input fields.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>text: <a href='ejs-String.html'>String</a> </td><td>Label text to display.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% label("Hello World") %&gt;
&lt;% label("Hello", { refresh: "/getData", period: 2000, style: "myStyle" }) %&gt;
&lt;% label("Hello", { click: "/foreground/link" }) %&gt;
&lt;% label("Checkout", { click: "</pre></dd></dl>
</div>
</div>
<hr />
<a name='link'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  link(target: <a href='ejs-Object.html'>Object</a>): <a href='ejs-Uri.html'>Uri</a>
</div>
<div class='apiDetail'>
<p>Create a URI link.</p>
<dl><dt>Description</dt><dd>The target parameter may contain partial or complete URI information. The missing parts 
are supplied using the current request and route tables. The resulting URI is a normalized, server-local 
URI (begins with "/"). The URI will include any defined scriptName, but will not include scheme, host or 
port components.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>target: <a href='ejs-Object.html'>Object</a> </td><td>The URI target. The target parameter can be a URI string or object hash of components. If the  target is a string, it is may contain an absolute or relative URI. If the target has an absolute URI path,  that path is used unmodified. If the target is a relative URI, it is appended to the current request URI  path.  The target can also be an object hash of URI components: scheme, host, port, path, reference and query. If these component properties are supplied, these will be combined to create a URI.  The URI will be created according to the route URI template. The template may be explicitly specified via a "route" target property. Otherwise, if an "action" property is specified, the route of the same name will be used. If these don't result in a usable route, the "default" route will be used. See the Router for more details.  If the target is a string that begins with ".</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>scheme</td><td>String URI scheme portion.</td></tr>
<td class='param'>host</td><td>String URI host portion.</td></tr>
<td class='param'>port</td><td>Number URI port number.</td></tr>
<td class='param'>path</td><td>String URI path portion.</td></tr>
<td class='param'>reference</td><td>String URI path reference. Does not include "#".</td></tr>
<td class='param'>query</td><td>String URI query parameters. Does not include "?".</td></tr>
<td class='param'>controller</td><td>String Controller name if using a Controller-based route. This can also be specified via the action option.</td></tr>
<td class='param'>action</td><td>String Action to invoke. This can be a URI string or a Controller action of the form.</td></tr>
<td class='param'>route</td><td>String Route name to use for the URI template.</td></tr>
</table></dd>
</dl><dl><dt>Returns</dt>
<dd>A normalized, server-local Uri object. MOB - OPT make native.</dd></dl>
<dl><dt>Example</dt>
<dd><pre>Given a current request of http://example.com/samples/demo" and "r" == the current request:
  r.link("images/splash.png")                  returns "/samples/images/splash.png"
r.link("images/splash.png").complete(r.uri)  returns "http://example.com/samples/images/splash.png"
r.link("images/splash.png").relative(r.uri)  returns "images/splash.png"
 r.link("http://example.com/index.html")
r.link("/path/to/index.html")
r.link("</pre></dd></dl>
</div>
</div>
<hr />
<a name='list'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  list(name: <a href='ejs-String.html'>String</a>, choices: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Emit a selection list.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>name: <a href='ejs-String.html'>String</a> </td><td>Field name to provide the default value for the list. The field should be a property of the  form control record. The field can be a simple property of the record or it can have multiple parts,  i.e. field.field.field. The field name is used to create the HTML input control name. If this call is used without a form control record, the actual data value should be supplied via the  options.value property.</td></tr><tr class='param'><td class='param'>choices: <a href='ejs-Object.html'>Object</a> </td><td>Choices to select from. This can be an array list where each element is displayed and the value  returned is an element index (origin zero). It can also be an array of key/value array tuples where the  first entry is the value to display and the second is the value to send to the app. Or it can be an  array of objects such as those returned from a table lookup. Lastly, it can be an object where the property key is the value to display and the property value is the value to send to the app.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Control options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>list("stockId", Stock.stockList) 
list("priority", ["low", "med", "high"])
list("priority", [["low", 0], ["med", 0.5], ["high", 1]])
list("priority", [{low: 3}, {med: 5}, {high: 9}])
list("priority", {low: 0, med: 1, high: 2})
</pre></dd></dl>
</div>
</div>
<hr />
<a name='mail'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  mail(name: <a href='ejs-String.html'>String</a>, address: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Emit a mail link.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>name: <a href='ejs-String.html'>String</a> </td><td>Recipient name to display.</td></tr><tr class='param'><td class='param'>address: <a href='ejs-String.html'>String</a> </td><td>Mail recipient address link.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='number'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  number(fmt: <a href='ejs-String.html'>String</a>): <a href='ejs-String.html'>String</a>
</div>
<div class='apiDetail'>
<p>Temporary helper function to format a number.</p>
<dl><dt>Description</dt><dd>MOB.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>fmt: <a href='ejs-String.html'>String</a> </td><td>Format string.</td></tr></table></dd>
</dl><dl><dt>Returns</dt>
<dd>A formatted string.</dd></dl>
</div>
</div>
<hr />
<a name='progress'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  progress(percent: <a href='ejs-Number.html'>Number</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Emit a progress bar.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>percent: <a href='ejs-Number.html'>Number</a> </td><td>Progress percentage (0-100).</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% progress(percent, { refresh: "/getData", period: 2000" }) %&gt;
</pre></dd></dl>
</div>
</div>
<hr />
<a name='radio'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  radio(name: <a href='ejs-String.html'>String</a>, choices: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a radio button.</p>
<dl><dt>Description</dt><dd>This creates a radio button suitable for use within an input form.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>name: <a href='ejs-String.html'>String</a> </td><td>Name for the input radio button. This defines the HTML element name and provides the source  of the initial value to display. The field should be a property of the form control record. It can  be a simple property of the record or it can have multiple parts, such as: field.field.field. If  this call is used without a form control record, the actual data value should be supplied via the  options.value property.</td></tr><tr class='param'><td class='param'>choices: <a href='ejs-Object.html'>Object</a> </td><td>Choices to select from. This can be an array list where each element is displayed and the value  returned is an element index (origin zero). It can also be an array of key/value array tuples where the  first entry is the value to display and the second is the value to send to the app. Or it can be an  array of objects such as those returned from a table lookup. Lastly, it can be an object where the property key is the value to display and the property value is the value to send to the app.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>value</td><td>Object Override value to display if used without a form control record.</td></tr>
</table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>radio("priority", ["low", "med", "high"])
radio("priority", [["low", 0], ["med", 0.5], ["high", 1]])
radio("priority", [{low: 3}, {med: 5}, {high: 9}])
radio("priority", {low: 0, med: 1, high: 2})
radio("priority", Message.priorities)
</pre></dd></dl>
</div>
</div>
<hr />
<a name='redirect'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  redirect(target: <a href='ejs-Object.html'>Object</a>, status: <a href='ejs-Number.html'>Number</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Redirect the client to a new URL.</p>
<dl><dt>Description</dt><dd>This call redirects the client's browser to a new target specified 
by the <a href='#url'>url</a></dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>target: <a href='ejs-Object.html'>Object</a> </td><td>Uri to redirect the client toward. This can be a relative or absolute string URI or it can be a hash of URI components. For example, the following are valid inputs: "../index.ejs",  "http://www.example.com/home.html", ".</td></tr><tr class='param'><td class='param'>status: <a href='ejs-Number.html'>Number</a> </td><td>Optional HTTP redirection status. [default: expression]</td></tr><tr class='param'><td class='param'>status: <a href='ejs-Number.html'>Number</a> </td><td> [default: expression]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='render'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  render(renderer: <a href='ejs-Function.html'>Function</a>): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Process and emit a view to the client.</p>
<dl><dt>Description</dt><dd>This invokes the given render function with "this" set to the view.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>renderer: <a href='ejs-Function.html'>Function</a> </td><td>Rendering function. This may be any external function. The function will have its scope modified so that it executes as if it were a member method of the View class.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='script'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  script(target: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Emit a script link.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>target: <a href='ejs-Object.html'>Object</a> </td><td>Script URI to load. URI or array of scripts. Call with no arguments or set to null to  get a default set of scripts.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='securityToken'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  securityToken(options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Generate a security token for the page and emit a &lt;meta HTML element for the security token.</p>
<dl><dt>Description</dt><dd>Security tokens are used to help guard against CSRF threats.
This token will automatically be included whenever forms are submitted and the token be validated by the 
receiving Controller. Forms will normally automatically generate the security token and that explicitly
calling this routine is not required unless a security token is required for non-form requests such as AJAX
requests. The <a href='#securityToken'>securityToken</a> control should be called inside the &lt;head section of the view page.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;head>
    &lt;% securityToken() %&gt;
&lt;/head>
</pre></dd></dl>
</div>
</div>
<hr />
<a name='setHeader'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  setHeader(key: <a href='ejs-String.html'>String</a>, value: <a href='ejs-String.html'>String</a>, overwrite: <a href='ejs-Boolean.html'>Boolean</a> = true): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Convenience routine to set a Http response header in <a href='#responseHeaders'>responseHeaders</a></p>
<dl><dt>Description</dt><dd>If a header has already been 
defined and <a href='#overwrite'>overwrite</a> is true, the header will be overwritten. NOTE: case is ignored in the header keyword.
Access <a href='#responseHeaders'>responseHeaders</a> to inspect the proposed response header set</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>key: <a href='ejs-String.html'>String</a> </td><td>The header keyword for the request, e.g. "accept".</td></tr><tr class='param'><td class='param'>value: <a href='ejs-String.html'>String</a> </td><td>The value to associate with the header, e.g. "yes".</td></tr><tr class='param'><td class='param'>overwrite: <a href='ejs-Boolean.html'>Boolean</a> </td><td>If the header is already defined and overwrite is true, then the new value will overwrite the old. If overwrite is false, the new value will be catenated to the old value with a ", " separator. [default: true]</td></tr><tr class='param'><td class='param'>overwrite: <a href='ejs-Boolean.html'>Boolean</a> </td><td> [default: true]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='setHeaders'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  setHeaders(headers: <a href='ejs-Object.html'>Object</a>, overwrite: <a href='ejs-Boolean.html'>Boolean</a> = true): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Convenience routine to set multiple Http response headers in <a href='#responseHeaders'>responseHeaders</a></p>
<dl><dt>Description</dt><dd>Access <a href='#responseHeaders'>responseHeaders</a> to 
inspect the proposed response header set</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>headers: <a href='ejs-Object.html'>Object</a> </td><td>Set of headers to use.</td></tr><tr class='param'><td class='param'>overwrite: <a href='ejs-Boolean.html'>Boolean</a> </td><td>If the header is already defined and overwrite is true, then the new value will overwrite the old. If overwrite is false, the new value will be catenated to the old value with a ", " separator. [default: true]</td></tr><tr class='param'><td class='param'>overwrite: <a href='ejs-Boolean.html'>Boolean</a> </td><td> [default: true]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='setStatus'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  setStatus(status: <a href='ejs-Number.html'>Number</a>): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Convenience routine to set the (proposed) Http response status code.</p>
<dl><dt>Description</dt><dd>This is equivalent to assigning 
to the <a href='#status'>status</a> property</dd></dl>
</div>
</div>
<hr />
<a name='stylesheet'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  stylesheet(target: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Emit a style sheet link.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>target: <a href='ejs-Object.html'>Object</a> </td><td>Stylesheet URI or array of stylesheets. Call with no arguments or set to null to get a  default set of stylesheets.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl></div>
</div>
<hr />
<a name='table'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  table(data, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a table.</p>
<dl><dt>Description</dt><dd>The table control can display static or dynamic tabular data. The client table control 
manages sorting by column, dynamic data refreshes, pagination and clicking on rows or cells.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data </td><td>Initial data to display. The data must be a grid of data, ie. an Array of  objects where each object represents the data for a row. The column names are the object property names  and the cell text is the object property values.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>click</td><td>(Boolean|Uri|String|Function) URI to invoke when editing cells.  or columns must be marked as editable in the columns properties. If set to a function, the function will  be invoked to provide the uri and parameters. The function should be of the form:  function click(record, field: String, value, options): {method: String, uri: Uri, params: Object}  If using cell based click/edit, then field will be set to the relevant field. If using row click/edit, then field will be null.</td></tr>
<td class='param'>keyFormat</td><td>String Define how the keys will be handled for click and edit URIs.  Set to one of the set: ["body", "path", "query"]. Default is "path". Set to "query" to add the key/value pairs to the request URI. Each pair is separated using "&" and the key and value are formatted as "key=value". Set to "params" to add the key/value pair to the request body parameters.  Set to "path" to add the key values in order to the request URI. Each value is separated using "/". This provides "pretty" URIs that can be easily tokenized by router templates. If you require more complex key management, set click or edit to a callback function and format the  URI and params manually.</td></tr>
<td class='param'>cell</td><td>Boolean Set to true to make click or edit links apply per cell instead of per row.  The default is false.</td></tr>
<td class='param'>columns</td><td>(Array|Object) The columns list can be either an array of column names or an object hash  of column objects where each column entry is hash of column options.  Column options: align, formatter, header, sort, sortOrder, style, width.</td></tr>
<td class='param'>edit</td><td>(Boolean|Uri|String) URI to invoke when editing cells. If set to true, the rest of the  options specifies the URI to invoke. Otherwise click can be set to a URI to invoke. The relevant  column or columns must be marked as editable in the columns properties.</td></tr>
<td class='param'>key</td><td>Array List of fields to set as the key values to uniquely identify the clicked or edited  row. The key will be rendered as a "data-key" HTML attribute and will be passed to the  receiving controller when the entry is clicked or edited. Each entry of the key option can be a simple string field name or it can be an Object with a single property, where the property name is a simple string field name and the property value is the mapped field name to use as the actual key name. This  supports using custom key names. NOTE: this option cannot be used if using cell clicks or edits. In that case, set click/edit to a callback function and explicitly construct the required URI and parameters.</td></tr>
<td class='param'>pageSize</td><td>Number Number of rows to display per page. Omit or set to <= 0 for unlimited.  Defaults to unlimited.</td></tr>
<td class='param'>params</td><td>Object Hash of post parameters to include in the request. This is a hash of key/value items.</td></tr>
<td class='param'>pivot</td><td>Boolean Pivot the table by swaping rows for columns and vice-versa.</td></tr>
<td class='param'>query</td><td>URI query string to add to click URIs. Can be a single-dimension array for per-row query  strings or a two-dimensional array for per cell (order is row/column).</td></tr>
<td class='param'>showHeader</td><td>Boolean Control if column headings are displayed.</td></tr>
<td class='param'>showId</td><td>Boolean If a columns option is not provided, the id column is normally hidden.  To display, set showId to be true.</td></tr>
<td class='param'>sort</td><td>String Enable row sorting and define the column to sort by. Defaults to the first column.</td></tr>
<td class='param'>sortOrder</td><td>String Default sort order. Set to "ascending" or "descending".Defaults to ascending.</td></tr>
<td class='param'>style</td><td>String CSS class to use for the table. The ultimate style to use for a table cell is the  combination of style, styleCells, styleColumns and style Rows.</td></tr>
<td class='param'>styleCells</td><td>2D Array of styles to use for the table body cells.</td></tr>
<td class='param'>styleColumns</td><td>Array of styles to use for the table body columns. Can also use the style option in the columns option.</td></tr>
<td class='param'>styleRows</td><td>Array of styles to use for the table body rows.</td></tr>
<td class='param'>title</td><td>String Table title.  //  MOB -- should auto-align currency to the right //  MOB -- test editable Column options: <ul> <li>align</li> <li>editable</li> <li>formatter</li> <li>header</li> <li>sort String Define the column to sort by and the sort order</li> <li>sortOrder String Set to "ascending" or "descending".  Defaults to ascending.</li> <li>style</li> <li>width</li> </ul></td></tr>
</table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% table(gridData, { refresh: "</pre></dd></dl>
</div>
</div>
<hr />
<a name='tabs'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  tabs(data: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a tab control.</p>
<dl><dt>Description</dt><dd>The tab control can manage a set of panes and selectively show and hide or invoke the selected panes. 
If the click option is defined, the selected pane will be invoked via a foreground click. If the
remote option is defined, the selected pane will be invoked via a background click. Otherwise the 
selected pane will be made visible and other panes will be hidden.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data: <a href='ejs-Object.html'>Object</a> </td><td>Initial data for the control. Tab data can be an array of objects -- one per tab. It can also be a single object where the tab text is the property key and the property value is the target.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>click</td><td>Invoke the target click or URI in the foreground when clicked.</td></tr>
<td class='param'>remote</td><td>Invoke the target URI in the background when clicked.</td></tr>
</table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>tabs({Status: "pane-1", "Edit: "pane-2"})
tabs([{Status: "/url-1"}, {"Edit: "/url-2"}], { click: "</pre></dd></dl>
</div>
</div>
<hr />
<a name='text'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  text(name: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a text input field as part of a form.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>name: <a href='ejs-String.html'>String</a> </td><td>Name for the input text field. This defines the HTML element name and provides the source  of the initial value to display. The field should be a property of the form control record. It can  be a simple property of the record or it can have multiple parts, such as: field.field.field. If  this call is used without a form control record, the actual data value should be supplied via the  options.value property.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>escape</td><td>Boolean Escape the text before rendering. This converts HTML reserved tags and delimiters into an encoded form.</td></tr>
<td class='param'>password</td><td>Boolean The data to display is a password and should be obfuscated.</td></tr>
<td class='param'>value</td><td>Object Override value to display if used without a form control record.</td></tr>
</table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% text("name") %&gt;
&lt;% text("product.name") %&gt;
&lt;% text("address", { escape: true }) %&gt;
&lt;% text("password", {value: params.password, password: true}) %&gt;
</pre></dd></dl>
</div>
</div>
<hr />
<a name='textarea'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  textarea(name: <a href='ejs-String.html'>String</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a text area.</p>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>name: <a href='ejs-String.html'>String</a> </td><td>Name for the input textarea field. This defines the HTML element name and provides the source  of the initial value to display. The field should be a property of the form control record. It can  be a simple property of the record or it can have multiple parts, such as: field.field.field. If  this call is used without a form control record, the actual data value should be supplied via the  options.value property.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>Boolean</td><td>Escape Escape the text before rendering. This converts HTML reserved tags and delimiters into an encoded form.</td></tr>
<td class='param'>numCols</td><td>Number number of text columns.</td></tr>
<td class='param'>numRows</td><td>Number number of text rows.</td></tr>
<td class='param'>value</td><td>Object Override value to display if used without a form control record.</td></tr>
</table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% textarea("name") %&gt;
</pre></dd></dl>
</div>
</div>
<hr />
<a name='tree'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  tree(data: <a href='ejs-Object.html'>Object</a>, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a tree control.</p>
<dl><dt>Description</dt><dd>The tree control can display static or dynamic tree data.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data: <a href='ejs-Object.html'>Object</a> </td><td>Optional initial data for the control. The data option may be used with the refresh option to  dynamically refresh the data. The tree data is typically an XML document.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Options</dt>
<dd><table class='parameters' summary ='options'>
<td class='param'>data</td><td>URI to get data.</td></tr>
<td class='param'>refresh</td><td>If set, this defines the data refresh period in seconds. Only valid if the data option is defined.</td></tr>
<td class='param'>style</td><td>String CSS Style to use for the control.</td></tr>
<td class='param'>visible</td><td>Boolean Make the control visible. Defaults to true.</td></tr>
</table></dd>
</dl></div>
</div>
<hr />
<a name='view'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  view(viewPath, options: <a href='ejs-Object.html'>Object</a> = expression): <a href='ejs-Void.html'>Void</a>
</div>
<div class='apiDetail'>
<p>Render a partial view.</p>
<dl><dt>Description</dt><dd>This creates an HTML element with the required options. It is useful to generate
a dynamically refreshing division.
MOB -- review and rethink this.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>viewPath </td><td>(String|Object) If a string, it is a view template name or the name of an action. If an object, it should have properties: controller and action. Action can be the name of a view template.</td></tr><tr class='param'><td class='param'>options: <a href='ejs-Object.html'>Object</a> </td><td>Optional extra options. See for a list of the standard options. [default: expression]</td></tr></table></dd>
</dl><dl><dt>Example</dt>
<dd><pre>&lt;% view(viewName) %&gt;
</pre></dd></dl>
</div>
</div>
<hr />
<a name='write'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  write(data: <a href='ejs-Array.html'>Array</a>): <a href='ejs-Number.html'>Number</a>
</div>
<div class='apiDetail'>
<p>Write data to the stream.Write data to the client.</p>
<dl><dt>Description</dt><dd>If the stream can accept all the write data, the call returns immediately with the number of bytes written. 
If writing more data than the stream can absorb in sync mode, the call will block until the data is written.
If writing more data than the stream can absorb in async mode, the call will not block and will buffer the
data and return immediately. Some streams will require a flush() call to actually send the data.
A "writable" event will be issued when the stream can again absorb more data.This will buffer the written data until either flush() or finalize() is called.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data: <a href='ejs-Array.html'>Array</a> </td><td>Data to write.</td></tr></table></dd>
</dl><dl><dt>Events</dt>
<dd><table class='parameters' summary ='events'>
<td class='param'>readable</td><td>Issued when data is written and a consumer can read without blocking.</td></tr>
<td class='param'>writable</td><td>Issued when the stream becomes empty and it is ready to be written to.</td></tr>
</table></dd>
</dl><dl><dt>Returns</dt>
<dd>A count of the bytes actually written.</dd></dl>
<dl><dt>Throws</dt><dd>
<a href='ejs-IOError.html'>IOError</a>: if there is an I/O error. 
</dd>
</dl></div>
</div>
<hr />
<a name='writeSafe'></a>
<div class='api'>
<div class='apiSig'>const   ejs.web  writeSafe(data: <a href='ejs-Array.html'>Array</a>): <a href='ejs-Number.html'>Number</a>
</div>
<div class='apiDetail'>
<p>Write safely.</p>
<dl><dt>Description</dt><dd>Write HTML escaped data back to the client.</dd></dl>
<dl><dt>Parameters</dt>
<dd><table class='parameters' summary ='parameters'>
<tr class='param'><td class='param'>data: <a href='ejs-Array.html'>Array</a> </td><td>Objects to HTML encode and write back to the client.</td></tr></table></dd>
</dl></div>
</div>
<hr />
<div class="terms">
   <p class="terms">
       <a href="http://www.embedthis.com/">       Embedthis Software LLC, 2003-2011. All rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
   </p>
</div></div>
</div>
</body>
</html>
