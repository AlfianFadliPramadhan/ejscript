<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   <title>Class Request</title>

   <link rel="stylesheet" type="text/css" href="doc.css" />
</head>

<body>
<div class='body'>

<div class="content">

<a name='top'></a>
<h1 class='className'>Request</h1>
<div class='classBlock'>
<table class='classHead' summary='Request'>
   <tr><td><strong>Module</strong></td><td>ejs.web</td></tr>
   <tr><td><strong>Definition</strong></td><td>dynamic  class Request</td></tr>
   <tr><td><strong>Inheritance</strong></td><td>Request <img src='images/inherit.gif' alt='inherit'/> <a href='ejs-Object.html'>Object</a><tr><td><strong>Specified</strong></td><td>ejscript-2.0</td></tr>
<tr><td><strong>Stability</strong></td><td>Prototype.</td></tr>
       </td></tr>
</table>

<p class='classBrief'>Web request class.</p>

<p class='classDescription'>Request objects manage the state and execution of a web request. The HttpServer class creates
instances of Request in response to incoming client requests. The Request object holds the client request state
including the request URL and headers. It is also a Stream and by calling the read() method, request body 
content can be read.<br/><br/>The response to send back to the client can be defined by setting status and calling setHeaders() and write() to 
set the response status, headers and body content respectively.</p>

</div>


<hr />
<a name='Properties'></a>
<h2 class='classSection'>Properties</h2>
<table class='itemTable' summary='properties'>
   <tr><th>Qualifiers</th><th>Property</th><th>Type</th><th width='95%'>Description</th></tr>
<a name='jsgi'></a>
   <tr><td nowrap align='center'>public static </td><td>jsgi</td><td><a href='ejs-Object.html'>Object</a></td><td>JSGI specification configuration object. </td></tr>
<a name='absHome'></a>
   <tr><td nowrap align='center'>public </td><td>absHome</td><td><a href='ejs-Uri.html'>Uri</a></td><td>Absolute Uri for the top-level of the application. This returns an absolute Uri (includes scheme and host) 
for the top most application Uri. See <a href='#home'>home</a> to get a relative Uri.</td></tr>
<a name='authGroup'></a>
   <tr><td nowrap align='center'>public </td><td>authGroup</td><td><a href='ejs-String.html'>String</a></td><td>Authentication group. This property is set to the value of the authentication group header.</td></tr>
<a name='authType'></a>
   <tr><td nowrap align='center'>public </td><td>authType</td><td><a href='ejs-String.html'>String</a></td><td>Authentication method if authorization is being used (basic or digest). Set to null if not using authentication.</td></tr>
<a name='authUser'></a>
   <tr><td nowrap align='center'>public </td><td>authUser</td><td><a href='ejs-String.html'>String</a></td><td>Authentication user name. This property is set to the value of the authentication user header. Set to null if
not yet defined.</td></tr>
<a name='chunkSize'></a>
   <tr><td nowrap align='center'>public </td><td>chunkSize</td><td><a href='ejs-Number.html'>Number</a></td><td>Preferred response chunk size for transfer chunk encoding. Chunked encoding is used when an explicit request 
content length is unknown at the time the response headers must be emitted.  Chunked encoding is automatically 
enabled if the chunkFilter is configured and a contentLength has not been defined.</td></tr>
<a name='config'></a>
   <tr><td nowrap align='center'>public </td><td>config</td><td><a href='ejs-Object.html'>Object</a></td><td>Request configuration. Initially refers to App.config which is filled with the aggregated "ejsrc" content.
Middleware may modify to refer to a request local configuration object.</td></tr>
<a name='contentLength'></a>
   <tr><td nowrap align='center'>public </td><td>contentLength</td><td><a href='ejs-Number.html'>Number</a></td><td>Get the request content length. This property is readonly and is set to the length of the request content 
body in bytes or -1 if not known.</td></tr>
<a name='contentType'></a>
   <tr><td nowrap align='center'>public </td><td>contentType</td><td><a href='ejs-String.html'>String</a></td><td>The request content type as specified by the "Content-Type" Http request header. This is set to null 
if not defined.</td></tr>
<a name='cookies'></a>
   <tr><td nowrap align='center'>public </td><td>cookies</td><td><a href='ejs-Object.html'>Object</a></td><td>Cookie headers. Cookies are sent by the client browser via the Set-Cookie Http header. They are typically 
used used to specify the session state. If sessions are being used, an Ejscript session cookie will be 
sent to and from the browser with each request.</td></tr>
<a name='dir'></a>
   <tr><td nowrap align='center'>public </td><td>dir</td><td><a href='ejs-Path.html'>Path</a></td><td>Application web document directory on the local file system. This is set to the directory containing the
application. For MVC applications, this is set to the base directory of the application. For non-MVC apps, 
it is set to the directory containing the application startup script.</td></tr>
<a name='encoding'></a>
   <tr><td nowrap align='center'>public </td><td>encoding</td><td><a href='ejs-String.html'>String</a></td><td>Get the encoding scheme for serializing strings. Not yet implemented.
MOB -- should this not be in the headers?.</td></tr>
<a name='env'></a>
   <tr><td nowrap align='center'>public </td><td>env</td><td><a href='ejs-Object.html'>Object</a></td><td>Storage for middleware specific state. Added for JSGI compliance.</td></tr>
<a name='files'></a>
   <tr><td nowrap align='center'>public </td><td>files</td><td><a href='ejs-Object.html'>Object</a></td><td>Files uploaded as part of the request. For each uploaded file, an instance of UploadFile is created in files. 
Each element is named by the file upload HTML input element ID in the HTML page form.</td></tr>
<a name='headers'></a>
   <tr><td nowrap align='center'>public </td><td>headers</td><td><a href='ejs-Object.html'>Object</a></td><td>Request Http headers. This is an object hash filled with the Http request headers. If multiple headers of 
the same key value are defined, their contents will be catenated with a ", " separator as per the HTTP/1.1 
specification. Use the header() method if you want to retrieve a single header.</td></tr>
<a name='home'></a>
   <tr><td nowrap align='center'>public </td><td>home</td><td><a href='ejs-Uri.html'>Uri</a></td><td>Relative Uri for the top-level of the application. This returns a relative Uri from the current request
up to the top most application Uri.</td></tr>
<a name='host'></a>
   <tr><td nowrap align='center'>public </td><td>host</td><td><a href='ejs-String.html'>String</a></td><td>Client requested Host. This is the Http request "Host" header value.</td></tr>
<a name='method'></a>
   <tr><td nowrap align='center'>public </td><td>method</td><td><a href='ejs-String.html'>String</a></td><td>Request HTTP method. String containing the Http method (DELETE | GET | POST | PUT | OPTIONS | TRACE).</td></tr>
<a name='params'></a>
   <tr><td nowrap align='center'>public </td><td>params</td><td><a href='ejs-Object.html'>Object</a></td><td>The request form parameters. Object hash of user url-encoded post data parameters.</td></tr>
<a name='pathInfo'></a>
   <tr><td nowrap align='center'>public </td><td>pathInfo</td><td><a href='ejs-String.html'>String</a></td><td>Portion of the request URL after the scriptName. This is the location of the request within the application.</td></tr>
<a name='query'></a>
   <tr><td nowrap align='center'>public </td><td>query</td><td><a href='ejs-String.html'>String</a></td><td>Request query string. This is the portion of the Uri after the "?". Set to null if there is no query.</td></tr>
<a name='referrer'></a>
   <tr><td nowrap align='center'>public </td><td>referrer</td><td><a href='ejs-String.html'>String</a></td><td>Name of the referring URL. This comes from the request "Referrer" Http header. Set to null if there is
no defined referrer.</td></tr>
<a name='remoteAddress'></a>
   <tr><td nowrap align='center'>public </td><td>remoteAddress</td><td><a href='ejs-String.html'>String</a></td><td>IP address of the client issuing the request. </td></tr>
<a name='route'></a>
   <tr><td nowrap align='center'>public </td><td>route</td><td><a href='ejs.web-Route.html'>Route</a></td><td>Route used for the request. The route is the matching entry in the route table for the request.
The route has properties two properties of particular interest: "name" which is the name of the route and
and "type" which classifies the type of request.</td></tr>
<a name='scheme'></a>
   <tr><td nowrap align='center'>public </td><td>scheme</td><td><a href='ejs-String.html'>String</a></td><td>Http request protocol scheme (http | https). </td></tr>
<a name='scriptName'></a>
   <tr><td nowrap align='center'>public </td><td>scriptName</td><td><a href='ejs-String.html'>String</a></td><td>Script name for the current application serving the request. This is typically the leading Uri portion 
corresponding to the application, but middleware may modify this to be an arbitrary string representing 
the application.  The script name is typically determined by the Router as it parses the request using 
the routing tables.</td></tr>
<a name='secure'></a>
   <tr><td nowrap align='center'>public </td><td>secure</td><td><a href='ejs-Boolean.html'>Boolean</a></td><td>Flag indicating if the request is using secure communications. This means that TLS/SSL is the underlying
protocol scheme.</td></tr>
<a name='server'></a>
   <tr><td nowrap align='center'>public </td><td>server</td><td><a href='ejs.web-HttpServer.html'>HttpServer</a></td><td>Owning server for the request. This is the HttpServer object that created this request.</td></tr>
<a name='session'></a>
   <tr><td nowrap align='center'>public </td><td>session</td><td><a href='ejs-Object.html'>Object</a></td><td>Session state object. The session state object can be used to share state between requests.
If a session has not already been created, this call creates a session and sets the <a href='#sessionID'>sessionID</a> property. 
A cookie containing a session ID is automatically created and sent to the client on the first 
response after creating the session. Objects stored in the session state must be serializable using JSON.</td></tr>
<a name='sessionID'></a>
   <tr><td nowrap align='center'>public </td><td>sessionID</td><td><a href='ejs-String.html'>String</a></td><td>Current session ID. Index into the <a href='#sessions'>sessions</a> object. Set to null if no session is defined.</td></tr>
<a name='status'></a>
   <tr><td nowrap align='center'>public </td><td>status</td><td><a href='ejs-Number.html'>Number</a></td><td>Set to the (proposed) Http response status code. </td></tr>
<a name='timeout'></a>
   <tr><td nowrap align='center'>public </td><td>timeout</td><td><a href='ejs-Number.html'>Number</a></td><td>Request timeout. Number of milliseconds for requests to block while processing the request.
A value of -1 means no timeout.</td></tr>
<a name='uri'></a>
   <tr><td nowrap align='center'>public </td><td>uri</td><td><a href='ejs-Uri.html'>Uri</a></td><td>The request URL as a parsed Uri. This is the original Uri and may not reflect changes to pathInfo or
scriptName.</td></tr>
<a name='userAgent'></a>
   <tr><td nowrap align='center'>public </td><td>userAgent</td><td><a href='ejs-String.html'>String</a></td><td>Get the name of the client browser software set in the "User-Agent" Http header. </td></tr>
<a name='input'></a>
   <tr><td nowrap align='left'>public const get </td><td>input</td><td><a href='ejs-Stream.html'>Stream</a></td><td>Request content stream. This is equivalent to using "this" as Request objects are streams connected to the
input content. Added for JSGI compliance.</td></tr>
<a name='log'></a>
   <tr><td nowrap align='left'>public const get </td><td>log</td><td><a href='ejs-Logger.html'>Logger</a></td><td>Logger object. Set to App.log. This is configured from the "log" section of the "ejsrc" config file.</td></tr>
<a name='queryString'></a>
   <tr><td nowrap align='left'>public const get </td><td>queryString</td><td><a href='ejs-String.html'>String</a></td><td>Decoded query string (URL query string). Eqivalent to the <a href='#query'>query</a> property. Added for JSGI compliance.</td></tr>
<a name='serverName'></a>
   <tr><td nowrap align='left'>public const get </td><td>serverName</td><td><a href='ejs-String.html'>String</a></td><td>Name of the server responding to the request. This is the portion of the URL that follows the scheme.
If a "Host" header is provided, it is used in preference.</td></tr>
<a name='serverPort'></a>
   <tr><td nowrap align='left'>public const get </td><td>serverPort</td><td><a href='ejs-Number.html'>Number</a></td><td>Listening port number for the server. </td></tr>
</table>

<p class='inheritedLink'><a href='ejs-Object.html#Properties'><i>Inherited Properties</i></a></p>

<hr />
<a name='Methods'></a>
<h2 class='classSection'>Request Methods</h2>
<table class='apiIndex' summary='methods'>
   <tr><th>Qualifiers</th><th width='95%'>Method</th></tr>
   <tr><td colspan='2'>No methods defined</td></tr>
</table>

<p class='inheritedLink'><a href='ejs-Object.html#Methods'><i>Inherited Methods</i></a></p>

<hr />
<div class="terms">
   <p class="terms">
       <a href="http://www.embedthis.com/">       Embedthis Software LLC, 2003-2010. All rights reserved. Embedthis is a trademark of Embedthis Software LLC.</a>
   </p>
</div></div>
</div>
</body>
</html>
