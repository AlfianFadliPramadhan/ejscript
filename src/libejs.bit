/*
    libejs.bit -- Bit File for the Ejs library
 */

Bit.load({

    targets: {
        libejs: {
            type: 'lib',
            headers: [ 'slots/*.h', '*.h', 'compiler/*.h' ], 
            sources: [ 
                'compiler/*.c',
                'core/src/*.c',
                'vm/*.c'
            ],
            depends: [ 'libmpr', 'libpcre', 'libhttp' ],
        },

        importSlots: {
            action: "
                for each (file in Path('slots').glob('*.h')) {
                    let src = bit.dir.inc.join(file.basename)
                    trace('Import', src)
                    src.copy(file)
                }
            ",
        },
	},
})
