#
#	dev.files - Files needed for the development installation
#
#	Copyright (c) Embedthis Software LLC, 2003-2010. All Rights Reserved.
#

usePrefixes DOC INC MAN LIB

docFilter="/xml/|/html/|/dsi/|/master/|Makefile"
cpy -f "${docFilter}" -d src/include "*" "${BLD_INC_PREFIX}"
if [ $BLD_WIN_LIKE = 1 ] ; then
    cpy src/include/buildConfig.h "${BLD_INC_PREFIX}"
fi
cpy -m 755 -d ${BLD_LIB_DIR} "*${BLD_LIB}" "${BLD_LIB_PREFIX}"

cpy -f "${docFilter}" -d doc "*" "${BLD_DOC_PREFIX}"
cpy -w -e -d doc/product index.html "${BLD_DOC_PREFIX}/product"
cpy -t -w -e -d doc/product README.TXT "${BLD_DOC_PREFIX}/product"

for f in ${BLD_DOC_PREFIX}/man/*.1
do
    rm -f $f.gz
    [ ${TASK} = Install ] && gzip $f
done

if [ ${TASK} = Install -a ${BLD_HOST_OS} != "WIN" -a -f "${BLD_BIN_PREFIX}/linkup" ] ; then
    "${BLD_BIN_PREFIX}/linkup" $TASK
fi
